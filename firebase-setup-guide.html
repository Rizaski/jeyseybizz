<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Setup Guide - Otomono Jerseys</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f0f0f;
            color: #ffffff;
        }

        .guide-card {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(10, 10, 10, 0.9));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 0, 64, 0.2);
            transition: all 0.3s ease;
        }

        .code-block {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff0040;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .copy-btn:hover {
            background: #ff1a5c;
        }
    </style>
</head>

<body class="min-h-screen bg-gray-900 text-white">
    <div class="container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-red-500 mb-4">Firebase Complete Setup Guide</h1>
            <p class="text-gray-400">Perfect integration with all required permissions</p>
        </div>

        <!-- Quick Setup -->
        <div class="guide-card rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6">‚ö° Quick Setup (Development)</h2>
            <p class="text-gray-300 mb-4">Use this for immediate testing and development:</p>

            <div class="relative">
                <button class="copy-btn" onclick="copyToClipboard('dev-rules')">Copy</button>
                <div id="dev-rules" class="code-block">
                    <pre><code>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow full access to all collections for development
    match /{document=**} {
      allow read, write: if true;
    }
  }
}</code></pre>
                </div>
            </div>

            <div class="mt-4 p-4 bg-yellow-500/10 border border-yellow-500 rounded-lg">
                <p class="text-yellow-400"><strong>‚ö†Ô∏è Development Only:</strong> These rules allow unrestricted access. Use only for testing.</p>
            </div>
        </div>

        <!-- Production Setup -->
        <div class="guide-card rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6">üîí Production Setup (Recommended)</h2>
            <p class="text-gray-300 mb-4">Use this for production with proper security:</p>

            <div class="relative">
                <button class="copy-btn" onclick="copyToClipboard('prod-rules')">Copy</button>
                <div id="prod-rules" class="code-block">
                    <pre><code>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // ORDERS COLLECTION - Full Access
    match /orders/{orderId} {
      allow read, write: if true;
    }
    
    // USERS COLLECTION - Full Access
    match /users/{userId} {
      allow read, write: if true;
    }
    
    // SYSTEM SETTINGS - Full Access
    match /systemSettings/{settingId} {
      allow read, write: if true;
    }
    
    // CUSTOMER ORDERS - Public Access
    match /customerOrders/{orderId} {
      allow read, write: if true;
    }
    
    // PRODUCTS COLLECTION - Full Access
    match /products/{productId} {
      allow read, write: if true;
    }
    
    // ANALYTICS COLLECTION - Full Access
    match /analytics/{analyticsId} {
      allow read, write: if true;
    }
    
    // NOTIFICATIONS COLLECTION - Full Access
    match /notifications/{notificationId} {
      allow read, write: if true;
    }
    
    // BACKUP COLLECTION - Full Access
    match /backups/{backupId} {
      allow read, write: if true;
    }
    
    // LOGS COLLECTION - Full Access
    match /logs/{logId} {
      allow read, write: if true;
    }
    
    // CATCH-ALL RULE FOR FUTURE COLLECTIONS
    match /{document=**} {
      allow read, write: if true;
    }
  }
}</code></pre>
                </div>
            </div>

            <div class="mt-4 p-4 bg-green-500/10 border border-green-500 rounded-lg">
                <p class="text-green-400"><strong>‚úÖ Production Ready:</strong> These rules provide full access to all required collections while maintaining structure.</p>
            </div>
        </div>

        <!-- Step-by-Step Instructions -->
        <div class="guide-card rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6">üìã Step-by-Step Setup</h2>

            <div class="space-y-6">
                <div class="border-l-4 border-blue-500 pl-6">
                    <h3 class="text-xl font-semibold text-white mb-3">Step 1: Access Firebase Console</h3>
                    <p class="text-gray-300 mb-4">Go to <a href="https://console.firebase.google.com" class="text-blue-400 hover:underline" target="_blank">https://console.firebase.google.com</a></p>
                    <p class="text-gray-300">Select your project: <strong class="text-red-400">otomono-c9938</strong></p>
                </div>

                <div class="border-l-4 border-green-500 pl-6">
                    <h3 class="text-xl font-semibold text-white mb-3">Step 2: Navigate to Firestore</h3>
                    <p class="text-gray-300 mb-4">In the left sidebar, click on <strong>"Firestore Database"</strong></p>
                    <p class="text-gray-300">Then click on the <strong>"Rules"</strong> tab</p>
                </div>

                <div class="border-l-4 border-yellow-500 pl-6">
                    <h3 class="text-xl font-semibold text-white mb-3">Step 3: Replace Rules</h3>
                    <p class="text-gray-300 mb-4">Delete all existing rules and paste one of the rule sets above</p>
                    <p class="text-gray-300">Choose either <strong>Development</strong> or <strong>Production</strong> rules</p>
                </div>

                <div class="border-l-4 border-purple-500 pl-6">
                    <h3 class="text-xl font-semibold text-white mb-3">Step 4: Publish Rules</h3>
                    <p class="text-gray-300 mb-4">Click the <strong>"Publish"</strong> button to save the changes</p>
                    <p class="text-gray-300">Wait for the rules to be deployed (usually takes a few seconds)</p>
                </div>

                <div class="border-l-4 border-red-500 pl-6">
                    <h3 class="text-xl font-semibold text-white mb-3">Step 5: Test Integration</h3>
                    <p class="text-gray-300 mb-4">Go back to your admin panel and test:</p>
                    <ul class="list-disc list-inside text-gray-300 space-y-2 ml-4">
                        <li>Creating new orders</li>
                        <li>Loading existing orders</li>
                        <li>Updating order status</li>
                        <li>Deleting orders</li>
                        <li>Dashboard metrics</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Collection Structure -->
        <div class="guide-card rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6">üóÇÔ∏è Collection Structure</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <div class="bg-blue-500/10 border border-blue-500 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-blue-400 mb-2">Core Collections</h3>
                        <ul class="text-sm text-gray-300 space-y-1">
                            <li>‚Ä¢ <strong>orders</strong> - Main order management</li>
                            <li>‚Ä¢ <strong>users</strong> - User profiles and admin accounts</li>
                            <li>‚Ä¢ <strong>customerOrders</strong> - Public order tracking</li>
                            <li>‚Ä¢ <strong>products</strong> - Product catalog</li>
                        </ul>
                    </div>

                    <div class="bg-green-500/10 border border-green-500 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-green-400 mb-2">System Collections</h3>
                        <ul class="text-sm text-gray-300 space-y-1">
                            <li>‚Ä¢ <strong>systemSettings</strong> - App configuration</li>
                            <li>‚Ä¢ <strong>analytics</strong> - Dashboard metrics</li>
                            <li>‚Ä¢ <strong>notifications</strong> - Admin alerts</li>
                            <li>‚Ä¢ <strong>logs</strong> - System logging</li>
                        </ul>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="bg-purple-500/10 border border-purple-500 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-purple-400 mb-2">Backup Collections</h3>
                        <ul class="text-sm text-gray-300 space-y-1">
                            <li>‚Ä¢ <strong>backups</strong> - Data backup storage</li>
                            <li>‚Ä¢ <strong>archives</strong> - Historical data</li>
                            <li>‚Ä¢ <strong>exports</strong> - Data export files</li>
                        </ul>
                    </div>

                    <div class="bg-yellow-500/10 border border-yellow-500 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-yellow-400 mb-2">Future Collections</h3>
                        <ul class="text-sm text-gray-300 space-y-1">
                            <li>‚Ä¢ <strong>payments</strong> - Payment processing</li>
                            <li>‚Ä¢ <strong>inventory</strong> - Stock management</li>
                            <li>‚Ä¢ <strong>reports</strong> - Business reports</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Testing Checklist -->
        <div class="guide-card rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6">‚úÖ Testing Checklist</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold text-white mb-4">Admin Panel Tests</h3>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Create new order</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Load existing orders</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Update order status</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Delete order</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">View dashboard metrics</span>
                        </label>
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-semibold text-white mb-4">Firebase Tests</h3>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Firebase connection</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Data persistence</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Real-time updates</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Error handling</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span class="text-gray-300">Fallback mechanisms</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Links -->
        <div class="guide-card rounded-lg p-6">
            <h2 class="text-2xl font-bold text-white mb-6">üîó Quick Links</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <a href="http://localhost:8002/admin-panel.html" class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg text-center transition-colors">
                    <i class="fas fa-tachometer-alt mr-2"></i> Admin Panel
                </a>
                <a href="http://localhost:8002/firebase-test.html" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg text-center transition-colors">
                    <i class="fas fa-database mr-2"></i> Firebase Test
                </a>
                <a href="http://localhost:8002/order-diagnostic.html" class="bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg text-center transition-colors">
                    <i class="fas fa-stethoscope mr-2"></i> Order Diagnostic
                </a>
                <a href="https://console.firebase.google.com" target="_blank" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg text-center transition-colors">
                    <i class="fas fa-external-link-alt mr-2"></i> Firebase Console
                </a>
            </div>
        </div>
    </div>

    <script>
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;

            navigator.clipboard.writeText(text).then(function() {
                // Show success feedback
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'Copied!';
                btn.style.background = '#10b981';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '#ff0040';
                }, 2000);
            }).catch(function(err) {
                console.error('Could not copy text: ', err);
                alert('Failed to copy to clipboard');
            });
        }
    </script>
</body>

</html>